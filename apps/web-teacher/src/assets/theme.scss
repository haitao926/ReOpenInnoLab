/**
 * 智能教育平台 - Element Plus 定制主题
 * 基于 Design Token 的主题变量定义
 */

// 导入 Design Token
@import 'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap';

// 色彩系统
:root {
  // 主色调 - 温暖科技蓝
  --el-color-primary: #5B8FF9;
  --el-color-primary-light-3: #85BEFF;
  --el-color-primary-light-5: #BAE0FF;
  --el-color-primary-light-7: #E6F4FF;
  --el-color-primary-light-8: #F2F8FF;
  --el-color-primary-light-9: #F7FAFF;
  --el-color-primary-dark-2: #3971D7;

  // 功能色
  --el-color-success: #52C41A;
  --el-color-warning: #FAAD14;
  --el-color-danger: #F5222D;
  --el-color-info: #1890FF;

  // 文字颜色
  --el-text-color-primary: #262626;
  --el-text-color-regular: #595959;
  --el-text-color-secondary: #8C8C8C;
  --el-text-color-placeholder: #BFBFBF;

  // 边框颜色
  --el-border-color-light: #F0F0F0;
  --el-border-color: #D9D9D9;
  --el-border-color-dark: #BFBFBF;

  // 填充色
  --el-fill-color-blank: #FFF;
  --el-fill-color: #FAFAFA;
  --el-fill-color-light: #F5F5F5;
  --el-fill-color-lighter: #F0F2F5;

  // 背景色
  --el-bg-color: #FFF;
  --el-bg-color-page: #FAFAFA;

  // 组件尺寸
  --el-component-size-large: 40px;
  --el-component-size: 32px;
  --el-component-size-small: 24px;

  // 圆角
  --el-border-radius-base: 8px;
  --el-border-radius-small: 4px;
  --el-border-radius-round: 9999px;

  // 阴影
  --el-box-shadow: 0 4px 6px -1px rgb(0 0 0 / 10%), 0 2px 4px -1px rgb(0 0 0 / 6%);
  --el-box-shadow-light: 0 1px 2px 0 rgb(0 0 0 / 5%);
  --el-box-shadow-dark: 0 10px 15px -3px rgb(0 0 0 / 10%), 0 4px 6px -2px rgb(0 0 0 / 5%);

  // 字体
  --el-font-size-base: 16px;
  --el-font-size-small: 14px;
  --el-font-size-large: 18px;
  --el-font-size-extra-large: 20px;

  // 动画
  --el-transition-duration: 0.3s;
  --el-transition-duration-fast: 0.2s;
  --el-transition-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

// 自定义CSS变量
:root {
  // 教育主题色彩
  --edu-primary: var(--el-color-primary);
  --edu-primary-light: var(--el-color-primary-light-3);
  --edu-primary-dark: var(--el-color-primary-dark-2);

  // 学科色彩
  --edu-subject-math: #FF6B6B;
  --edu-subject-physics: #4ECDC4;
  --edu-subject-chemistry: #45B7D1;
  --edu-subject-biology: #96CEB4;
  --edu-subject-language: #DDA0DD;
  --edu-subject-history: #FFB347;
  --edu-subject-geography: #87CEEB;
  --edu-subject-english: #98D8C8;
  --edu-subject-art: #FF69B4;
  --edu-subject-music: #DDA0DD;
  --edu-subject-pe: #FFA07A;
  --edu-subject-it: #708090;

  // 玻璃质感
  --edu-glass-bg: rgb(255 255 255 / 85%);
  --edu-glass-border: 1px solid rgb(255 255 255 / 18%);
  --edu-glass-blur: blur(12px);
  --edu-glass-shadow: 0 8px 32px rgb(31 38 135 / 15%);

  // 渐变
  --edu-gradient-primary: linear-gradient(135deg, #5B8FF9 0%, #85BEFF 100%);
  --edu-gradient-secondary: linear-gradient(135deg, #52C41A 0%, #7ED321 100%);
  --edu-gradient-warm: linear-gradient(135deg, #FF6B6B 0%, #FFE66D 100%);
  --edu-gradient-cool: linear-gradient(135deg, #4ECDC4 0%, #44A3AA 100%);

  // 间距
  --edu-spacing-xs: 4px;
  --edu-spacing-sm: 8px;
  --edu-spacing-md: 16px;
  --edu-spacing-lg: 24px;
  --edu-spacing-xl: 32px;
  --edu-spacing-2xl: 48px;

  // 动效
  --edu-ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --edu-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

// Element Plus 组件定制
.el-button {
  &.el-button--primary {
    border: none;
    box-shadow: 0 4px 12px rgb(91 143 249 / 30%);
    background: var(--edu-gradient-primary);
    transition: all 0.3s var(--edu-ease-smooth);

    &:hover {
      box-shadow: 0 6px 20px rgb(91 143 249 / 40%);
      transform: translateY(-2px);
    }

    &:active {
      transform: translateY(0);
    }
  }

  &.el-button--success {
    border: none;
    box-shadow: 0 4px 12px rgb(82 196 26 / 30%);
    background: var(--edu-gradient-secondary);
  }

  &.el-button--warning {
    border: none;
    box-shadow: 0 4px 12px rgb(250 173 20 / 30%);
    background: linear-gradient(135deg, #FAAD14 0%, #FFD666 100%);
  }

  &.el-button--danger {
    border: none;
    box-shadow: 0 4px 12px rgb(245 34 45 / 30%);
    background: linear-gradient(135deg, #F5222D 0%, #FF7875 100%);
  }
}

// 卡片组件
.el-card {
  border: 1px solid var(--el-border-color-light);
  border-radius: 12px;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 10%), 0 2px 4px -1px rgb(0 0 0 / 6%);
  transition: all 0.3s var(--edu-ease-smooth);

  &:hover {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 10%), 0 4px 6px -2px rgb(0 0 0 / 5%);
    transform: translateY(-2px);
  }

  .el-card__header {
    padding: var(--edu-spacing-md) var(--edu-spacing-lg);
    border-bottom: 1px solid var(--el-border-color-light);
    background: var(--el-fill-color-blank);
    font-weight: 600;
  }

  .el-card__body {
    padding: var(--edu-spacing-lg);
  }
}

// 教育主题卡片
.edu-card {
  padding: var(--edu-spacing-lg);
  border: var(--edu-glass-border);
  border-radius: 16px;
  box-shadow: var(--edu-glass-shadow);
  background: var(--edu-glass-bg);
  transition: all 0.3s var(--edu-ease-smooth);
  backdrop-filter: var(--edu-glass-blur);

  &:hover {
    box-shadow: 0 12px 40px rgb(31 38 135 / 20%);
    transform: translateY(-4px);
  }
}

// 学科标签
.edu-subject-tag {
  display: inline-flex;
  align-items: center;
  margin-right: 8px;
  margin-bottom: 8px;
  padding: 4px 12px;
  border-radius: 20px;
  color: white;
  font-size: 12px;
  font-weight: 500;

  &.math { background-color: var(--edu-subject-math); }
  &.physics { background-color: var(--edu-subject-physics); }
  &.chemistry { background-color: var(--edu-subject-chemistry); }
  &.biology { background-color: var(--edu-subject-biology); }
  &.language { background-color: var(--edu-subject-language); }
  &.history { background-color: var(--edu-subject-history); }
  &.geography { background-color: var(--edu-subject-geography); }
  &.english { background-color: var(--edu-subject-english); }
  &.art { background-color: var(--edu-subject-art); }
  &.music { background-color: var(--edu-subject-music); }
  &.pe { background-color: var(--edu-subject-pe); }
  &.it { background-color: var(--edu-subject-it); }
}

// 表格组件
.el-table {
  .el-table__header {
    background: var(--el-fill-color);
    font-weight: 600;

    th {
      border-bottom: 2px solid var(--el-border-color);
    }
  }

  .el-table__row {
    &:hover {
      background: var(--el-fill-color-light);
    }
  }

  .el-table__empty-block {
    min-height: 200px;
  }
}

// 输入框组件
.el-input {
  .el-input__wrapper {
    border-radius: 8px;
    transition: all 0.3s var(--edu-ease-smooth);

    &:hover {
      border-color: var(--edu-primary-light);
    }

    &.is-focus {
      border-color: var(--edu-primary);
      box-shadow: 0 0 0 2px rgb(91 143 249 / 20%);
    }
  }
}

// 选择器组件
.el-select {
  .el-input {
    .el-input__wrapper {
      border-radius: 8px;
    }
  }
}

// 导航菜单
.el-menu {
  &.el-menu--horizontal {
    border-bottom: none;
    box-shadow: 0 2px 8px rgb(0 0 0 / 6%);

    .el-menu-item {
      border-bottom: 2px solid transparent;

      &:hover {
        background: var(--el-fill-color-light);
        border-bottom-color: var(--edu-primary);
      }

      &.is-active {
        background: var(--edu-primary);
        color: white;
        border-bottom-color: var(--edu-primary);
      }
    }
  }

  &.el-menu--vertical {
    border-right: none;
    box-shadow: 2px 0 8px rgb(0 0 0 / 6%);

    .el-menu-item {
      margin: 4px 8px;
      border-radius: 8px;

      &:hover {
        background: var(--el-fill-color-light);
      }

      &.is-active {
        background: var(--edu-primary);
        color: white;
      }
    }
  }
}

// 标签页
.el-tabs {
  .el-tabs__nav-wrap {
    &::after {
      background: var(--el-border-color-light);
    }
  }

  .el-tabs__item {
    padding: 0 20px;
    font-weight: 500;

    &:hover {
      color: var(--edu-primary);
    }

    &.is-active {
      color: var(--edu-primary);
      font-weight: 600;
    }
  }

  .el-tabs__active-bar {
    height: 3px;
    background: var(--edu-primary);
  }
}

// 分页器
.el-pagination {
  .el-pagination__total,
  .el-pagination__jump {
    color: var(--el-text-color-regular);
  }

  .btn-prev,
  .btn-next {
    margin: 0 2px;
    border-radius: 6px;

    &:hover {
      color: var(--edu-primary);
    }
  }

  .el-pager li {
    margin: 0 2px;
    border-radius: 6px;

    &:hover {
      color: var(--edu-primary);
    }

    &.is-active {
      background: var(--edu-primary);
      color: white;
    }
  }
}

// 消息提示
.el-message {
  border-radius: 12px;
  box-shadow: 0 4px 20px rgb(0 0 0 / 15%);
  backdrop-filter: var(--edu-glass-blur);

  &.el-message--success {
    border: 1px solid rgb(82 196 26 / 30%);
    background: rgb(82 196 26 / 90%);
  }

  &.el-message--warning {
    border: 1px solid rgb(250 173 20 / 30%);
    background: rgb(250 173 20 / 90%);
  }

  &.el-message--error {
    border: 1px solid rgb(245 34 45 / 30%);
    background: rgb(245 34 45 / 90%);
  }
}

// 对话框
.el-dialog {
  border-radius: 16px;
  box-shadow: 0 20px 40px rgb(0 0 0 / 15%);
  backdrop-filter: var(--edu-glass-blur);

  .el-dialog__header {
    padding: var(--edu-spacing-lg);
    border-bottom: 1px solid var(--el-border-color-light);

    .el-dialog__title {
      font-size: 18px;
      font-weight: 600;
    }
  }

  .el-dialog__body {
    padding: var(--edu-spacing-lg);
  }

  .el-dialog__footer {
    padding: var(--edu-spacing-lg);
    border-top: 1px solid var(--el-border-color-light);
  }
}

// 抽屉
.el-drawer {
  .el-drawer__header {
    margin-bottom: 0;
    padding: var(--edu-spacing-lg);
    border-bottom: 1px solid var(--el-border-color-light);

    .el-drawer__title {
      font-size: 18px;
      font-weight: 600;
    }
  }

  .el-drawer__body {
    padding: var(--edu-spacing-lg);
  }
}

// 加载中
.el-loading-mask {
  background: rgb(255 255 255 / 90%);
  backdrop-filter: var(--edu-glass-blur);

  .el-loading-spinner {
    .path {
      stroke: var(--edu-primary);
    }
  }
}

// 响应式设计
@media (width <= 768px) {
  :root {
    --edu-spacing-md: 12px;
    --edu-spacing-lg: 16px;
    --edu-spacing-xl: 24px;
  }

  .el-card {
    .el-card__header,
    .el-card__body {
      padding: var(--edu-spacing-md);
    }
  }

  .edu-card {
    padding: var(--edu-spacing-md);
    border-radius: 12px;
  }

  .el-dialog {
    width: 90% !important;
    margin: 5vh auto;
  }
}

// 深色模式支持
@media (prefers-color-scheme: dark) {
  :root {
    --el-text-color-primary: #FFF;
    --el-text-color-regular: #E6E6E6;
    --el-text-color-secondary: #B3B3B3;
    --el-text-color-placeholder: #666;
    --el-bg-color: #1F1F1F;
    --el-bg-color-page: #141414;
    --el-border-color-light: #404040;
    --el-border-color: #333;
    --el-border-color-dark: #262626;
    --el-fill-color-blank: #1F1F1F;
    --el-fill-color: #141414;
    --el-fill-color-light: #0A0A0A;
    --el-fill-color-lighter: #000;
    --edu-glass-bg: rgb(31 31 31 / 85%);
    --edu-glass-border: 1px solid rgb(255 255 255 / 10%);
  }

  .edu-card {
    background: var(--edu-glass-bg);
    color: var(--el-text-color-primary);
  }

  .el-card {
    background: var(--el-bg-color);
    color: var(--el-text-color-primary);
  }
}

// 高对比度模式
@media (prefers-contrast: high) {
  :root {
    --el-border-color-light: #000;
    --el-border-color: #000;
    --el-border-color-dark: #000;
    --el-box-shadow: none;
    --el-box-shadow-light: none;
    --el-box-shadow-dark: none;
    --edu-glass-shadow: none;
  }

  .el-card,
  .edu-card {
    border: 2px solid var(--el-border-color);
  }
}

// 减少动画模式
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }

  .el-button,
  .el-card,
  .edu-card {
    transition: none;
  }
}