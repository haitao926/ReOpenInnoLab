# ReOpenInnoLab 项目视觉与架构执行方案 (InnoFlow Edition)

> **版本日期**: 2025-12-17
> **设计代号**: InnoFlow (流光/淡雅)
> **核心理念**: 去框化 (Borderless)、画布化 (Canvas-First)、微光点缀 (Subtle Glow)

本文档总结了基于“飞书/搞定设计”风格重构后的最新 UI 设计原则与代码实现方案。旨在确保开发人员利用 `packages/ui-kit` 能够完美复现“课程管理”页面的高级质感。

---

## 1. 设计美学原则 (Design Principles)

### 1.1 核心基调：无意间的淡雅
*   **去重色块**: 摒弃传统的“深色侧边栏”或“大面积主色背景”。
*   **极光灰基底**: 全局背景色统一采用 **`#F9FAFB` (Slate-50)**。这是一种比纯白更有质感、比灰色更透气的颜色。
*   **呼吸感排版**: 侧边栏菜单间距从 `4px` 增至 **`8px`**，列表项高度增加，内边距加大。

### 1.2 品牌色应用：微光 (Glow)
品牌色（靛蓝/紫/橙）不再用于大面积填充，而是作为**交互反馈**和**视觉锚点**：
*   **选中态**: 使用极淡的靛蓝渐变洗色 (`rgba(99, 102, 241, 0.08)`) + 左侧 3px 的流光指示条。
*   **行动点 (CTA)**: 橙色 (`#F97316`) 仅用于徽标 (Badge) 或高频操作图标，起到画龙点睛的作用。

### 1.3 布局哲学：画布 (Canvas)
*   **无边界**: 去除内容区外围的 `el-card` 大框和阴影。内容直接“浮”在背景上。
*   **悬浮感**: 搜索栏、操作条采用“悬浮圆角”设计 (`box-shadow: 0 4px 20px rgba(0,0,0,0.04)`)。
*   **独立滚动**: 侧边栏与主内容区垂直方向独立滚动，互不干扰。

---

## 2. 核心布局架构 (Layout Architecture)

基于 `packages/ui-kit` 的重构成果，系统整体布局结构如下：

### 2.1 全局布局 (`MainLayout`)
*   **背景**: `#F9FAFB` (Global Canvas)。
*   **侧边栏 (`AppSidebar`)**:
    *   **位置**: 固定左侧，背景透明融合 (亦为 `#F9FAFB`)。
    *   **折叠逻辑**: 按钮移至 Logo 区域右侧（展开时）或底部（收起时），顶部导航不再包含折叠按钮。
    *   **Logo**: 居左对齐，尺寸加大 (H: 42px)。
*   **顶部导航 (`AppHeader`)**:
    *   **左侧**: 仅显示 **页面标题 (Page Title)**，字号 `18px` 加粗。去除面包屑。
    *   **右侧**: 
        *   **通知**: 纯图标 + 红点（无边框按钮）。
        *   **用户**: 胶囊式 (Pill) 设计，包含头像、昵称、角色。
        *   **分隔**: 细竖线分隔功能区与用户区。

### 2.2 工作区布局 (`TeacherWorkspaceLayout`)
*   **模式**: **Canvas Mode** (无内边距，全高)。
*   **结构**:
    *   `header` 插槽: (已移除，标题上移至全局 Header)。
    *   `left` 插槽: 左侧筛选/树状导航 (固定宽度，独立滚动)。
    *   `default` 插槽: 右侧主画布 (自适应宽度，独立滚动)。

---

## 3. "课程管理" 页面复现指南 (Implementation Guide)

要复现当前的“课程管理”页面效果，请遵循以下 CSS 类名规范和组件结构。

### 3.1 左侧筛选区 (Transparent Tree)
不要使用 Card 包裹，直接在背景上渲染。

*   **容器**: `.filter-sidebar` (Flex Column, Padding: 8px 0)
*   **菜单项**: `.filter-item` / `.filter-tree-item`
    *   **常态**: 透明背景，文字 Slate-600。
    *   **Hover**: `#F1F5F9` (Slate-100)。
    *   **Active**: `#E0E7FF` (Indigo-100) 背景 + `#4F46E5` (Indigo-600) 文字。
*   **装饰**: 学科分类使用带颜色的圆点 (`.tree-dot`)。

```html
<div class="filter-tree-item active">
  <span class="tree-dot" style="background: #1890ff"></span>
  <span class="tree-text">数学</span>
</div>
```

### 3.2 右侧画布区 (Content Canvas)

#### A. 悬浮搜索栏 (Floating Header)
位于内容区顶部，白底，大圆角，轻阴影。

```css
.search-bar-floating {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.04); /* 关键：极轻的阴影 */
  height: 48px;
  display: flex;
  align-items: center;
}
```

#### B. 快捷操作行 (Quick Actions)
搜索栏下方的横向排列卡片。

```css
.action-card {
  background: white;
  border: 1px solid #F1F5F9; /* 极淡边框 */
  border-radius: 12px;
  /* Icon Box: 40x40 rounded square with pale background */
}
```

#### C. 无框列表/网格 (Borderless Grid)
课程卡片直接铺在灰色背景上，依靠白色背景卡片自身区分。

```css
.clean-card {
  background: white;
  border-radius: 12px;
  border: 1px solid transparent; /* 默认无边框 */
  transition: all 0.3s;
}

.clean-card:hover {
  transform: translateY(-4px); /* 上浮 */
  box-shadow: 0 12px 30px rgba(0,0,0,0.06); /* 扩散阴影 */
  /* 可选：边框变色 */
}
```

---

## 4. UI Kit 代码复用 (Code Reference)

以下是 `packages/ui-kit` 中关键组件的配置快照，用于支持上述效果。

### `AppSidebar.vue` (Styles)
```scss
.app-sidebar {
  background: #F9FAFB; /* Light Gray */
  border-right: none;  /* No Border */
}

/* 选中态微光 */
.app-sidebar__nav-link--active {
  background: linear-gradient(90deg, rgba(99, 102, 241, 0.08) 0%, rgba(139, 92, 246, 0.04) 100%);
  color: #4F46E5;
  font-weight: 600;
  
  &::before { /* 左侧指示条 */
    content: '';
    /* ... 3px width gradient bar ... */
  }
}
```

### `AppHeader.vue` (Styles)
```scss
/* 用户胶囊 */
.user-pill {
  padding: 4px 8px 4px 4px;
  border-radius: 30px;
  /* Hover effect: white bg + shadow */
}

/* 通知图标 */
.icon-btn {
  width: 40px; height: 40px; border-radius: 50%;
  &:hover { background-color: #F1F5F9; }
}
```

---

## 5. 开发检查清单 (Checklist)

在开发新页面（如“实验管理”）时，请检查：

1.  [ ] **Layout**: 是否使用了 `<TeacherWorkspaceLayout>` 且去掉了 `:leftCollapsible="true"` (现在由内部控制)？
2.  [ ] **Header**: 页面标题是否通过路由 `meta.title` 正确传递给了 `AppHeader`？
3.  [ ] **Sidebar**: 是否移除了厚重的 `el-card`，改用透明背景列表？
4.  [ ] **Search**: 是否使用了 `.search-bar-floating` 样式？
5.  [ ] **Grid/List**: 卡片是否有悬浮效果 (`translateY`) 和扩散阴影？
6.  [ ] **Icons**: 是否使用了彩色图标容器 (`.icon-box`) 来区分操作类型？

遵循此方案，即可保证全站视觉体验的高度一致性与高级感。